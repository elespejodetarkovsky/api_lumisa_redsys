<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

    <button id="click1">login</button>
    <button id="click2">tratar</button>
</body>
<script>

    document.getElementById("click1").addEventListener('click' , function () {
        let myHeaders = new Headers();
        myHeaders.append("Content-Type", "application/json");
        //myHeaders.append("Access-Control-Allow-Credentials", "true")

        var raw = JSON.stringify({
            "email": "sebastian.turone@gmail.com",
            "password": "12345"
        });

        var requestOptions = {
            method: 'POST',
            headers: myHeaders,
            //credentials: 'include',
        body: raw,
            redirect: 'follow'
        };

        fetch("https://oni-redsys-api.lumisa.es/login", requestOptions)
            .then(response => console.log(response.headers.get('Set-Cookie')))
            .then(result => console.log(result))
            .catch(error => console.log('error', error));
    });

    document.getElementById("click2").addEventListener('click' , function () {
        let myHeaders = new Headers();
        myHeaders.append("Content-Type", "application/json");

        var requestOptions = {
            method: 'POST',
            headers: myHeaders,
            credentials: "same-origin",
            //body: raw,
            redirect: 'follow'
        };

        fetch("https://oni-redsys-api.lumisa.es/api/autorizacion/4fce92181766c59238d91d4294db6df6b12e5a44/1684491473/7895/iii", requestOptions)
            .then(response => console.log(response))
            .then(result => console.log(result))
            .catch(error => console.log('error', error));
    });



</script>
</html>